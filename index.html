<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Tracing London Map</title>

<link rel="stylesheet"
href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
body {
  margin: 0;
  padding: 0;
}

#map {
  height: 100vh;
  width: 100%;
}

.popup-content {
  font-size: 14px;
}
</style>
</head>

<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>

// Create the map
const map = L.map('map').setView([51.5106, -0.0834], 13);

// Add map tiles
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
 attribution: 'Â© OpenStreetMap contributors'
}).addTo(map);


// LOCATION DATA
const locations = [

{
  title: "St Dunstan-in-the-East",
  coords: [51.5106, -0.0834],
  article: "https://open.substack.com/pub/tracinglondon/p/st-dunstan-in-the-east-a-timeless-legacy?r=1undwi&utm_medium=ios",
  video: null,
  description: "A bombed-out Wren church transformed into a hidden garden."
},

{
  title: "Tower 42",
  coords: [51.5154, -0.0820],
  article: "https://open.substack.com/pub/tracinglondon/p/tower-42?r=1undwi&utm_medium=ios",
  video: null,
  description: "Once Britain's tallest building, rising from the financial heart of the City."
},

{
  title: "The Town of Ramsgate Pub",
  coords: [51.5079, -0.0526],
  article: "https://open.substack.com/pub/tracinglondon/p/the-town-of-ramsgate-pub?r=1undwi&utm_medium=ios",
  video: null,
  description: "A riverside pub steeped in smuggling lore and dockside history."
}

];


// ADD PINS
locations.forEach(place => {

  let popupContent = `
    <div class="popup-content">
      <strong>${place.title}</strong><br>
      ${place.description}<br><br>
  `;

  if (place.video) {
    popupContent += `
      <iframe width="250" height="140"
      src="${place.video}"
      frameborder="0"
      allowfullscreen></iframe><br>
    `;
  } else {
    popupContent += `<em>Video coming soon</em><br>`;
  }

  popupContent += `
      <br>
      <a href="${place.article}" target="_blank">
        Read the full story
      </a>
    </div>
  `;

  L.marker(place.coords)
    .addTo(map)
    .bindPopup(popupContent);

});

</script>

</body>
</html>